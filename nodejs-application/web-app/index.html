<!doctype html>
<html class="no-js" lang="zxx">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Site Title Here</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="manifest" href="site.webmanifest">
    <link rel="shortcut icon" type="image/x-icon" href="img/logo.png">
    <!-- Place favicon.ico in the root directory -->

    <!-- CSS here -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/animate.min.css">
    <link rel="stylesheet" href="css/magnific-popup.css">
    <link rel="stylesheet" href="css/nice-select.css">
    <link rel="stylesheet" href="css/fontawesome-all.min.css">
    <link rel="stylesheet" href="css/slick.css">
    <link rel="stylesheet" href="css/default.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive.css">
</head>

<body>
    <!--[if lte IE 9]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
        <![endif]-->

    <!-- Add your site or application content here -->
    <header>

    </header>
    <main>
        <div class="main-wrapper">
            <div class="container">
                <div class="row">
                    
                </div>
                <div class="row">
                    <div class="col-xl-12">
                        <div class="section-heading">
                            <h2>IdM Service Application</h2>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="section-form">
                            <form action="#">
                                <div class="row align-items-center mb-10">
                                    <div class="col-xl-12">
                                        <input type="text" placeholder="User Name" name="username" id="username">
                                    </div>
                                </div>
                                <div class="row align-items-center mb-10">
                                    <div class="col-xl-12">
                                        <input type="password" required placeholder="****" name="password" id="pass">
                                    </div>
                                </div>
                                <div class="row mb-50 mt-30">
                                    <div class="col-xl-12">
                                        <div class="user-profile-btn">
                                            <div class="row">
                                                <div class="col-xl-12">
                                                    <a href="#" class="btn btn-clear">Clear</a>
                                                    <a href="#" class="btn btn-click" id = "Button">Sign Up</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xl-12">
                        <div class="delegate-details">
                            <div class="row align-items-center">
                                <div class="col-sm-8">
                                    <div class="delegate-heading">
                                        <h2>Your Credentials</h2>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="delegate-info">
                            <div class="row">
                                <div class="col-xl-12">
                                    <div class="row align-items-center mb-15">
                                        <div class="col-xl-3">
                                            <form action="#" id="delegate-info-form">
                                                <label for="Address" id = "account">Your Address</label>
                                            </form>
                                        </div>
                                        <div class="col-xl-9">
                                            <form action="#" id="delegate-info-form">
                                                <input type="text" placeholder="Text" class = "input-address" name="address" id = "account" >
                                                <i class="fas fa-copy"></i>
                                            </form>
                                        </div>
                                    </div>
                                    <div class="row align-items-center mb-15">
                                        <div class="col-xl-3">
                                            <form action="#" id="delegate-info-form">
                                                <label for="Address" id="Private">Private Key</label>
                                            </form>
                                        </div>
                                        <div class="col-xl-9">
                                            <form action="#" id="delegate-info-form">
                                                <input type="password" placeholder="**************">
                                                <i class="fas fa-eye"></i>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="user-profile-btn">
                            <div class="row">
                                <div class="col-xl-12">
                                    <a href="#" class="btn btn-export">Export</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- JS here -->
    <script src="js/vendor/modernizr-3.5.0.min.js"></script>
    <script src="js/vendor/jquery-1.12.4.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/isotope.pkgd.min.js"></script>
    <script src="js/one-page-nav-min.js"></script>
    <script src="js/slick.min.js"></script>
    <script src="js/ajax-form.js"></script>
    <script src="js/wow.min.js"></script>
    <script src="js/jquery.nice-select.min.js"></script>
    <script src="js/jquery.scrollUp.min.js"></script>
    <script src="js/imagesloaded.pkgd.min.js"></script>
    <script src="js/jquery.magnific-popup.min.js"></script>
    <script src="js/plugins.js"></script>
    <script src="js/main.js"></script>
    <script src="js/app.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.min.js"></script>
 
    <script src="http://code.jquery.com/jquery-1.11.2.min.js" type="text/javascript"></script>
    <script>
	$(document).ready(function () {
		$(document).on('click', '.btn-click', function () {
            var username = $("input[type=text][name=username]").val();
            var password  = $("input[type=password][name=password]").val();
            $.ajax({
                type: 'GET',
                url: 'http://localhost:8000/api/createuser?username="'+username+'"&password="'+password+'"',
                cache: false,
                complete: function (data, status) { 
                    if(status == 'success'){
                    $('.input-address').val(data.responseText);
                    alert('New User Added');
                }
                else{
                    alert('Error Occured. Check Node logs.');
                }
            }
            });
        });
        $(document).on('click', '.btn-clear', function (){
            window.location.reload(true);
        });


        //EXPORT BUTTON CODING
        $(document).on('click', '.btn-export', function () {
            var username = $("input[type=text][name=username]").val();
            var password  = $("input[type=password][name=password]").val();
            var address = $("input[type=text][name=address]").val();
            $.ajax({
                type: 'GET',
                url: 'http://localhost:8000/api/exportcsv?username="'+username+'"&password="'+password+'"&address="'+address+'"&privateKey="Nill"',
                cache: false,
                complete: function (data, status) { 
                    if(status == 'success'){
                    alert('Csv Created in the CSV directory');
                }
                else{
                    alert('Error Occured. Check Node logs.');
                }
            }
            });
        });
    });

    </script>

</body>
</html>